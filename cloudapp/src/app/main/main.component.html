<section>
  <h1>
    Toggle Staff Roles
  </h1>
  <p>Use this app to activate or deactivate a user's roles (except for the "patron" role)</p>
</section>

<!--
<section>
  <mat-card class="example-card">
    <mat-card-header>
      <mat-card-title>Page Entity</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <pre>{{ pageEntities | json }}</pre>
    </mat-card-content>
  </mat-card>
</section>
-->

<section *ngIf="user">
  <mat-card>
    <mat-card-header>
      <mat-card-title>User: {{user.full_name}}</mat-card-title>
      <mat-card-subtitle>Active Staff Roles: {{user.activeStaffRoleCount}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div style="display: inline-block; width: 100%; text-align: center;">
        <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" 
              (click)="activateStaffRoles()" 
              [disabled]="loading">
        Activate Staff Roles
      </button>
      <button mat-raised-button color="warn" 
              (click)="deactivateStaffRoles()" 
              [disabled]="loading || user.activeStaffRoleCount == 0">
        Deactivate Staff Roles
      </button>
    </mat-card-actions>
  </mat-card>
</section>
